{% extends "base.html" %}
{% block nav %}
    {{super()}}
{% endblock %}
{% block content  %}

    <div class="container">
        <div class="row">
            <section>
                <div class="wizard">
                    <div class="wizard-inner">
                        <div class="connecting-line"></div>
                        <ul class="nav nav-tabs" role="tablist">

                            <li role="presentation" class="active">
                                <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-fire"></i>
                            </span>
                                </a>
                            </li>

                            <li role="presentation" class="disabled">
                                <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-user"></i>
                            </span>
                                </a>
                            </li>
                            <li role="presentation" class="disabled">
                                <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </span>
                                </a>
                            </li>

                            <li role="presentation" class="disabled">
                                <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-ok"></i>
                            </span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <form role="form" method="post" id="checkout_from">
                        <div class="tab-content">
                            <div class="tab-pane active" role="tabpanel" id="step1">
                                <h3>Select chili</h3>
                                <div class="row" data-toggle="buttons">
                                    {% for product in product_list %}
                                        <div class="col-xs-6 col-md-3">
                                            <div class="thumbnail">
                                                <img id="product_img_{{ product.id }}" src="{{ product.imgurl }}" alt="...">
                                                <div class="caption">
                                                    <h3 id="product_name_{{ product.id }}">{{ product.name }}</h3>
                                                    <p id="product_description_{{ product.id }}">{{ product.description }}</p>
                                                    <p style="color: darkred">Pris:
                                                    <div style="color: darkred" id="product_price_{{ product.id }}">{{ product.price }}</div>
                                                    </p>
                                                    <p>
                                                        <label class="btn btn-primary" for="product_radio_{{ product.id }}">
                                                            <input type="radio" id="product_radio_{{ product.id }}" name="product_radio" value="{{ product.id }}" autocomplete="off" hidden> Välj
                                                        </label>
                                                        <a href="#" class="btn btn-default" role="button">Mer info</a>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>


                                <ul id="next1_button" class="list-inline pull-right" hidden>
                                    <li><button  type="button" class="btn btn-primary next-step">Nästa</button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step2">
                                <h3>Step 2</h3>
                                <div class="container center_div">
                                    <h1 class="col-sm-10">Skriv in vem som ska frå utmaningen</h1>

                                    {{ adress_form.hidden_tag() }}

                                    <div class="col-sm-10">
                                        {{ adress_form.email (size=20, placeholder="Din email för kvitto", class="form-control", id="checkout_email") }}
                                        {% for error in adress_form.email.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>

                                    <div class="col-sm-10">
                                        {{ adress_form.first_name (size=20, placeholder="Förnamn", class="form-control", id="checkout_first_name") }}
                                        {% for error in adress_form.first_name.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>
                                    <div class="col-sm-10">
                                        {{ adress_form.last_name (size=40, placeholder="Efternamn", class="form-control", id="checkout_last_name") }}
                                        {% for error in adress_form.last_name.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>
                                    <div class="col-sm-10">
                                        {{ adress_form.address (size=40, placeholder="Gatuadress", class="form-control", id="checkout_address") }}
                                        {% for error in adress_form.address.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>
                                    <div class="col-sm-10">
                                        {{ adress_form.zipcode (size=40, placeholder="Postnummer", class="form-control", type="number", maxlength="5", id="checkout_zip") }}
                                        {% for error in adress_form.zipcode.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>
                                    <div class="col-sm-10">
                                        {{ adress_form.city (size=40, placeholder="Stad", class="form-control", id="checkout_city") }}
                                        {% for error in adress_form.city.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}<br><br>
                                    </div>
                                </div>

                                <ul class="list-inline pull-right">
                                    <li><button type="button" class="btn btn-default prev-step">Föregående</button></li>
                                    <li><button type="button" class="btn btn-primary next-step">Nästa</button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step3">
                                <h3>Step 3</h3>
                                <div class="container center_div">
                                    <form class="form-inline" action="" method="post" name="personal_message">
                                        {{ adress_form.message (placeholder="Personligt meddelande", class="col-xs-12 ", rows="5") }}
                                        {% for error in adress_form.message.errors %}
                                            <span style="color: red;"class="glyphicon glyphicon-ban-circle"> </span>
                                            <span style="color: red;">{{ error }} </span>
                                        {% endfor %}
                                        <br><br>
                                    </form>
                                </div>
                                <ul class="list-inline pull-right">
                                    <li><button type="button" class="btn btn-default prev-step">Föregående</button></li>
                                    <li><button type="button" class="btn btn-primary btn-info-full next-step">Nästa</button></li>
                                </ul>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="complete">

                              <form action="/charge" method="post">
                                <article>
                                  <label>
                                    <span>Total amount is ${{ amount / 100 }}</span>
                                  </label>
                                </article>

                                <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                                        data-key="{{ key }}"
                                        data-description="A Flask Charge"
                                        data-amount= {{ amount }}
                                        data-locale="auto"></script>
                              </form>

                                <h3>Complete</h3>
                                <p>You have successfully completed all steps.</p>

                                <p id="order_note">Pris:</p>

                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>



{% endblock %}
